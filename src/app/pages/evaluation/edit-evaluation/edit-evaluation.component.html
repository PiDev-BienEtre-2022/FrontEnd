<nb-card>
  <nb-card-body>
    <div class="row">
      <div class="col-lg-12">
        <div class="alert alert-secondary" role="alert">
          <small><b>Date First validation: </b> {{evaluation.date_goals}} </small><br>
          <small><b>Date Final validation: </b> {{evaluation.date_eval}} </small><br>
          <small><b>Min percentage Domain: </b> {{evaluation.min_per_domain}} %</small><br>
          <small><b>Number of goals domain: </b> {{evaluation.nb_goals_domain}} </small><br>
          <small><b>Number of goals domain: </b> {{evaluation.nb_goals_other}} </small><br>          
        </div>

        <ng2-smart-table [settings]="settings" [source]="source" (edit)="onEditGoal($event)">
        </ng2-smart-table>
        <br>
        <form #addForm="ngForm">
          <div class="row">
            <div class="form-group col-sm-12">
              <label for="ftype" class="label">Comment *</label>
              <br />
              <textarea nbInput fullWidth id="comment" name="comment" rows="5" cols="33"  #commentAdd="ngModel" ngModel required ></textarea>
              <div *ngIf="commentAdd.invalid && commentAdd.touched">
                <br>
                <p class="error-message">
                  Comment is required !
                </p>
              </div>
            </div>
          </div>
          <button type="submit" nbButton status="danger" [disabled] = "addForm.invalid" (click)="validate(addForm.value)" [style.display]='displayBtn'>Validate</button>
          <br>
          <div class="alert alert-success" role="alert" [style.display]='displayAdd'>Evaluation validated successfully !</div>
       </form>

      </div>
    </div>
  </nb-card-body>
</nb-card>
